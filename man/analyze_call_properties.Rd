% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/analyze_call_properties.R
\name{analyze_call_properties}
\alias{analyze_call_properties}
\title{Analyze Call Properties: Frequency Range and Pulse Rate}
\usage{
analyze_call_properties(
  wave,
  selection_table = NULL,
  threshold = 5,
  msmooth = c(50, 0),
  dmin = 0.001,
  auto_clean = TRUE,
  plot = FALSE,
  ...
)
}
\arguments{
\item{wave}{A \code{\link[tuneR]{Wave}} object or a character string pointing to a WAV file.}

\item{selection_table}{A data frame containing selections. converting to a selection table
format (e.g., standard `warbleR` or Raven format). Must contain columns:
\code{selec}, \code{start}, \code{end}. If NULL (default), the entire wave is analyzed.}

\item{threshold}{Numeric. Amplitude threshold (\%) for pulse detection (passed to \code{\link[seewave]{timer}}).
Defaults to 5.}

\item{msmooth}{Vector of length 2. Smoothing parameters for the amplitude envelope
(window length in samples, overlap in \%). Passed to \code{\link[seewave]{timer}}.
Defaults to \code{c(50, 0)} (approx 1ms at 44.1kHz), optimized for rapid pulses/trills.}

\item{dmin}{Numeric. Minimum duration (in seconds) for a pulse to be detected.
Passed to \code{\link[seewave]{timer}}. Defaults to 0.001 (1ms).}

\item{auto_clean}{Logical. If TRUE (default), the function applies a bandpass filter
(using the detected frequency range) to the audio before detecting pulses.
This substantially improves robustness against noise.}

\item{plot}{Logical. If TRUE, plots the oscillogram and detected pulses. Defaults to FALSE.}

\item{...}{Additional arguments passed to \code{\link[seewave]{timer}} or \code{\link[seewave]{specprop}}.}
}
\value{
A data frame with the following columns:
\itemize{
  \item \code{file}: Name of the file or "WaveObject".
  \item \code{selec}: Selection ID (or "all" if no selection table).
  \item \code{duration}: Duration of the selection in seconds.
  \item \code{freq_min}: Minimum frequency (kHz) (5th percentile of distribution).
  \item \code{freq_max}: Maximum frequency (kHz) (95th percentile of distribution).
  \item \code{bandwidth}: Bandwidth (kHz) (freq_max - freq_min).
  \item \code{pulse_rate}: Pulses per second (detected pulses / duration).
  \item \code{num_pulses}: Total number of detected pulses.
}
}
\description{
This function calculates the frequency range (min, max, bandwidth) and pulse rate
(pulses per second) for a given audio file or Wave object. It can process the entire
file or specific selections defined in a selection table.
}
\examples{
\dontrun{
# Analyze a file
res <- analyze_call_properties("path/to/file.wav")

# Analyze with a selection table
sels <- data.frame(selec = 1, start = 0, end = 1)
res_sel <- analyze_call_properties("path/to/file.wav", selection_table = sels)
}
}
