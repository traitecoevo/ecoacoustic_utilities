% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_inat_sounds.R
\name{get_inat_sounds}
\alias{get_inat_sounds}
\title{Download Sound Recordings from iNaturalist}
\usage{
get_inat_sounds(
  taxon_name,
  place_name = "Australia",
  target_n = 300,
  download = TRUE,
  out_dir = "sounds",
  allowed_licenses = tolower(c("cc0", "cc-by", "cc-by-sa", "cc-by-nc", "cc-by-nc-sa")),
  use_place_filter = FALSE,
  quality = c("research", "all"),
  include_taxon_name = TRUE
)
}
\arguments{
\item{taxon_name}{Character. Scientific or common name of the taxon to search for.}

\item{place_name}{Character. Name of the geographic place to filter by. Required
if \code{use_place_filter = TRUE}. Default is "Australia".}

\item{target_n}{Numeric. Target number of sound files to download. Default is 300.}

\item{download}{Logical. If TRUE, downloads audio files. If FALSE, only returns
the count of available recordings. Default is TRUE}

\item{out_dir}{Character. Output directory for downloaded files. Will create
subdirectories "audio" and "metadata.csv". Default is "sounds".}

\item{allowed_licenses}{Character vector. Lowercase license codes to accept.
Default includes Creative Commons licenses: cc0, cc-by, cc-by-sa, cc-by-nc,
cc-by-nc-sa. Empty license codes are also accepted.}

\item{use_place_filter}{Logical. If TRUE, filters observations by place. If FALSE,
searches globally, UNLESS \code{place_name} is explicitly provided. Default is FALSE.}

\item{quality}{Character. Quality grade filter: "research" for research-grade
observations only, or "all" for all quality grades. Default is "research".}

\item{include_taxon_name}{Logical. If TRUE, prepends the taxon name to the filename
(e.g., "Genus_species_ObsID_SoundID.ext"). Default is TRUE.}
}
\value{
Integer. Total number of matching records found in iNaturalist.
}
\description{
Queries the iNaturalist API to find and optionally download sound recordings
for a specified taxon. Can filter by geographic location and observation quality.
}
\details{
When \code{download = TRUE}, the function:
\itemize{
  \item Creates \code{out_dir/audio/} directory for audio files
  \item Creates \code{out_dir/metadata.csv} with observation metadata
  \item Downloads files named as \code{<observation_id>_<sound_id>.<ext>}
  \item Skips files that already exist in the output directory
  \item Respects API rate limits with 1.1 second delays between requests
}
}
\examples{
\dontrun{
# Check how many recordings are available
n <- get_inat_sounds(
  "Turnix maculosus",
  place_name = "Australia",
  download = FALSE
)

# Download up to 300 research-grade recordings
get_inat_sounds(
  "Turnix maculosus",
  place_name = "Australia",
  target_n = 300,
  download = TRUE,
  quality = "research"
)

# Global search (no place filter)
get_inat_sounds(
  "Gryllus bimaculatus",
  use_place_filter = FALSE,
  target_n = 100,
  download = TRUE
)
}

}
